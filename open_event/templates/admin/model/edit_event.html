{% extends 'admin/base1.html' %}
{% import 'admin/lib.html' as lib with context %}

{% macro extra() %}
  <input name="_continue_editing" type="submit" class="btn btn-default" value="{{ _gettext('Save and Continue') }}" />
{% endmacro %}

{% block head %}
    {{ super() }}
    {{ lib.form_css() }}
{% endblock %}

{% block body %}
    <div class="col-md-2"></div>
    <div class="col-md-8">
        <div class="well bs-component">

              <h2>{{ admin_view.name }}</h2>
              <div class="row">
                  <div class="col-md-6">
                      {% call lib.form_tag(form) %}
                          {{ lib.render_form_fields(form, form_opts=form_opts) }}
                          {{ lib.render_form_buttons(cancel_url, extra()) }}
                      {% endcall %}
                  </div>
                  <div class="col-md-6">
                      <div id="map" style="width:400px; height:300px"></div>
                  </div>
              </div>
        </div>
    </div>
    <div class="col-md-2"></div>
    <!-- bring in the google maps library -->
       <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.5/leaflet.css">
       <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.5/leaflet.js"></script>
       <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet-geocoder-mapzen/1.4.0/leaflet-geocoder-mapzen.css">
       <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-geocoder-mapzen/1.4.0/leaflet-geocoder-mapzen.js"></script>
       <script src="{{ url_for('static', filename='admin/js/map2.js' )}}">
{% endblock %}

{% block tail %}
  {{ super() }}
  {{ lib.form_js() }}
{% endblock %}
